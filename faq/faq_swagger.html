
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Swagger specification Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-forkmegithub/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="faq_documenting.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Primer
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../about.html">
            
                <a href="../about.html">
            
                    
                    Approaches
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../install.html">
            
                <a href="../install.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../features.html">
            
                <a href="../features.html">
            
                    
                    Features
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Tutorials
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../tutorial/todo-list.html">
            
                <a href="../tutorial/todo-list.html">
            
                    
                    Simple Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../tutorial/custom-server.html">
            
                <a href="../tutorial/custom-server.html">
            
                    
                    Custom Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../tutorial/dynamic.html">
            
                <a href="../tutorial/dynamic.html">
            
                    
                    Dynamic Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    Security
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../tutorial/authentication/">
            
                <a href="../tutorial/authentication/">
            
                    
                    Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../tutorial/oauth2/">
            
                <a href="../tutorial/oauth2/">
            
                    
                    OAuth2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="../tutorial/composed-auth/">
            
                <a href="../tutorial/composed-auth/">
            
                    
                    Composition
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Use-Cases
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../usage/swagger.html">
            
                <a href="../usage/swagger.html">
            
                    
                    Options and commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../usage/serve_ui.html">
            
                <a href="../usage/serve_ui.html">
            
                    
                    Serve UI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../usage/validate.html">
            
                <a href="../usage/validate.html">
            
                    
                    Validate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../usage/diff.html">
            
                <a href="../usage/diff.html">
            
                    
                    Diff
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../use/transform.html">
            
                <a href="../use/transform.html">
            
                    
                    Transform spec
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="../usage/expand.html">
            
                <a href="../usage/expand.html">
            
                    
                    Expand
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.2" data-path="../usage/flatten.html">
            
                <a href="../usage/flatten.html">
            
                    
                    Flatten
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.3" data-path="../usage/mixin.html">
            
                <a href="../usage/mixin.html">
            
                    
                    Mixin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../usage/markdown.html">
            
                <a href="../usage/markdown.html">
            
                    
                    Generate markdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" >
            
                <span>
            
                    
                    Generate code from spec
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" data-path="../generate/requirements.html">
            
                <a href="../generate/requirements.html">
            
                    
                    Dependencies & Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" data-path="../generate/client.html">
            
                <a href="../generate/client.html">
            
                    
                    API Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" >
            
                <span>
            
                    
                    API Server
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.3.1" data-path="../generate/server.html">
            
                <a href="../generate/server.html">
            
                    
                    Server Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.3.2" data-path="../use/server.html">
            
                <a href="../use/server.html">
            
                    
                    How to use the server
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7.4" >
            
                <span>
            
                    
                    API Model
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.4.1" data-path="../generate/model.html">
            
                <a href="../generate/model.html">
            
                    
                    Model Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.4.2" data-path="../use/model.html">
            
                <a href="../use/model.html">
            
                    
                    How to use models
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.4.2.1" data-path="../use/models/schemas.html">
            
                <a href="../use/models/schemas.html">
            
                    
                    Schema generation rules
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" >
            
                <span>
            
                    
                    Generate spec from source
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1" data-path="../generate/spec.html">
            
                <a href="../generate/spec.html">
            
                    
                    Spec Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2" data-path="../use/spec.html">
            
                <a href="../use/spec.html">
            
                    
                    Spec generation rules
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.2.1" data-path="../use/spec/meta.html">
            
                <a href="../use/spec/meta.html">
            
                    
                    swagger:meta
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.2" data-path="../use/spec/route.html">
            
                <a href="../use/spec/route.html">
            
                    
                    swagger:route
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.3" data-path="../use/spec/params.html">
            
                <a href="../use/spec/params.html">
            
                    
                    swagger:params
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.4" data-path="../use/spec/operation.html">
            
                <a href="../use/spec/operation.html">
            
                    
                    swagger:operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.5" data-path="../use/spec/response.html">
            
                <a href="../use/spec/response.html">
            
                    
                    swagger:response
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.6" data-path="../use/spec/model.html">
            
                <a href="../use/spec/model.html">
            
                    
                    swagger:model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.7" data-path="../use/spec/allOf.html">
            
                <a href="../use/spec/allOf.html">
            
                    
                    swagger:allOf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.8" data-path="../use/spec/strfmt.html">
            
                <a href="../use/spec/strfmt.html">
            
                    
                    swagger:strfmt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.9" data-path="../use/spec/discriminated.html">
            
                <a href="../use/spec/discriminated.html">
            
                    
                    swagger:discriminated
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2.10" data-path="../use/spec/ignore.html">
            
                <a href="../use/spec/ignore.html">
            
                    
                    swagger:ignore
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../use/middleware.html">
            
                <a href="../use/middleware.html">
            
                    
                    Using middleware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../use/template_layout.html">
            
                <a href="../use/template_layout.html">
            
                    
                    Custom generation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../generate/templates.html">
            
                <a href="../generate/templates.html">
            
                    
                    Custom templates
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../cli_helpers.html">
            
                <a href="../cli_helpers.html">
            
                    
                    CLI autocompletion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../guidelines/">
            
                <a href="../guidelines/">
            
                    
                    Guidelines to maintainers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="./">
            
                <a href="./">
            
                    
                    FAQ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="faq_setup.html">
            
                <a href="faq_setup.html">
            
                    
                    Installation,setup and environment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="faq_model.html">
            
                <a href="faq_model.html">
            
                    
                    Model generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="faq_server.html">
            
                <a href="faq_server.html">
            
                    
                    Server generation & customization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="faq_client.html">
            
                <a href="faq_client.html">
            
                    
                    Client generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="faq_spec.html">
            
                <a href="faq_spec.html">
            
                    
                    Spec generation from source
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="faq_testing.html">
            
                <a href="faq_testing.html">
            
                    
                    API testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="faq_documenting.html">
            
                <a href="faq_documenting.html">
            
                    
                    Documenting your API
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.9.8" data-path="faq_swagger.html">
            
                <a href="faq_swagger.html">
            
                    
                    Swagger specification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Swagger specification</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <!-- Questions about swagger specs -->


<h2 id="swagger-specification"><a name="swagger-specification" class="plugin-anchor" href="#swagger-specification"><i class="fa fa-link" aria-hidden="true"></i></a>Swagger specification</h2><h3 id="default-vs-required"><a name="default-vs-required" class="plugin-anchor" href="#default-vs-required"><i class="fa fa-link" aria-hidden="true"></i></a>Default vs required</h3><p><em>Use-Case</em>:  spec validation rejects default object without required properties</p><blockquote><p>If we have the default for the firstName and lastName but didn&apos;t set the username, which is required,
we will have an error message showing that we have to put the default for the required field &quot;username&quot; as well.</p><p>The &quot;default&quot; section must contain any &quot;required&quot; properties, which is counterintuitive because the &quot;required&quot; properties
should always be provided explicitly and shouldn&#x2019;t have defaults.</p></blockquote><p>Example:</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">paths</span><span class="token punctuation">:</span>
  /person/<span class="token punctuation">{</span>id<span class="token punctuation">}</span><span class="token punctuation">:</span>
    <span class="token key atrule">put</span><span class="token punctuation">:</span>
      <span class="token key atrule">summary</span><span class="token punctuation">:</span> Put a person
      <span class="token key atrule">description</span><span class="token punctuation">:</span> Put a person.
      <span class="token key atrule">consumes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> application/json
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> id
          <span class="token key atrule">in</span><span class="token punctuation">:</span> path
          <span class="token key atrule">description</span><span class="token punctuation">:</span> ID of person
          <span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">type</span><span class="token punctuation">:</span> integer
        <span class="token punctuation">-</span> <span class="token key atrule">in</span><span class="token punctuation">:</span> body
          <span class="token key atrule">name</span><span class="token punctuation">:</span> body
          <span class="token key atrule">description</span><span class="token punctuation">:</span> Person
          <span class="token key atrule">schema</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> object
            <span class="token key atrule">required</span><span class="token punctuation">:</span>
              <span class="token punctuation">-</span> username
            <span class="token key atrule">default</span><span class="token punctuation">:</span>
              <span class="token key atrule">firstName</span><span class="token punctuation">:</span> John
              <span class="token key atrule">lastName</span><span class="token punctuation">:</span> Smith
            <span class="token key atrule">properties</span><span class="token punctuation">:</span>
              <span class="token key atrule">firstName</span><span class="token punctuation">:</span>
                <span class="token key atrule">type</span><span class="token punctuation">:</span> string
              <span class="token key atrule">lastName</span><span class="token punctuation">:</span>
                <span class="token key atrule">type</span><span class="token punctuation">:</span> string
              <span class="token key atrule">username</span><span class="token punctuation">:</span>
                <span class="token key atrule">type</span><span class="token punctuation">:</span> string
      <span class="token key atrule">responses</span><span class="token punctuation">:</span>
        <span class="token key atrule">200</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> successful</code></pre>
<p><code>swagger generate model -f person.yaml</code></p><p>I notice that the error message could be prevented if I use <code>swagger generate model --skip-validation</code>.
But I think the error message should not show even I just use <code>swagger generate model -f person.yaml</code> because
&quot;required&quot; properties should always be provided explicitly and shouldn&#x2019;t have defaults.</p><p><strong>Answer:</strong> Those defaults need to be put on the individual members.</p><blockquote><p>The default where you put it is a default for the entire object if it is not provided at all.
Thus it must pass validation of the object schema.
As per swagger, defaults MUST validate their schema. This differs from json-Schema spec.</p></blockquote><p>Originally from issue <a href="https://github.com/go-swagger/go-swagger/issues/1552" target="_blank">#1552</a>.</p><p><em>Use-Case</em>: <code>go-swagger</code> rejects default object that misses required properties.</p><blockquote><p>My understanding is that properties in default and those listed as required are mutually exclusive, because one is supposed
to explicitly provide required properties, while properties in default can be filled in.
See <a href="https://swagger.io/blog/unlocking-the-spec-the-default-keyword" target="_blank">https://swagger.io/blog/unlocking-the-spec-the-default-keyword</a></p></blockquote><p>Example:</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">paths</span><span class="token punctuation">:</span>
  /person/<span class="token punctuation">{</span>id<span class="token punctuation">}</span><span class="token punctuation">:</span>
    <span class="token key atrule">put</span><span class="token punctuation">:</span>
      <span class="token key atrule">summary</span><span class="token punctuation">:</span> Put a person
      <span class="token key atrule">description</span><span class="token punctuation">:</span> Put a person.
      <span class="token key atrule">consumes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> application/json
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> id
          <span class="token key atrule">in</span><span class="token punctuation">:</span> path
          <span class="token key atrule">description</span><span class="token punctuation">:</span> ID of person
          <span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">type</span><span class="token punctuation">:</span> integer
        <span class="token punctuation">-</span> <span class="token key atrule">in</span><span class="token punctuation">:</span> body
          <span class="token key atrule">name</span><span class="token punctuation">:</span> body
          <span class="token key atrule">description</span><span class="token punctuation">:</span> Person
          <span class="token key atrule">schema</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> object
            <span class="token key atrule">required</span><span class="token punctuation">:</span>
              <span class="token punctuation">-</span> username
            <span class="token key atrule">default</span><span class="token punctuation">:</span>
              <span class="token key atrule">firstName</span><span class="token punctuation">:</span> John
              <span class="token key atrule">lastName</span><span class="token punctuation">:</span> Smith
            <span class="token key atrule">properties</span><span class="token punctuation">:</span>
              <span class="token key atrule">firstName</span><span class="token punctuation">:</span>
                <span class="token key atrule">type</span><span class="token punctuation">:</span> string
              <span class="token key atrule">lastName</span><span class="token punctuation">:</span>
                <span class="token key atrule">type</span><span class="token punctuation">:</span> string
              <span class="token key atrule">username</span><span class="token punctuation">:</span>
                <span class="token key atrule">type</span><span class="token punctuation">:</span> string
      <span class="token key atrule">responses</span><span class="token punctuation">:</span>
        <span class="token key atrule">200</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> successful</code></pre>
<p><strong>Answer:</strong> the spec validation warns you about mixing up default with required.</p><blockquote><p>If you override this validation (with <code>swagger generate model --skip-validation</code>), the model generator would override the
required clause, and use the default.</p></blockquote><p><strong>Would --skip-validation skip any other validations?</strong></p><p><strong>Answer:</strong> Yes. <code>--skip-validation</code> skips the call to <code>swagger validate {spec}</code>, which is normally carried on before generation.</p><p>For some use cases, we have to, since <code>go-swagger</code> supports constructs that are not stricly swagger-compliant.
This one is an example: some override silently take place here at generation time.</p><p>Originally from issue <a href="https://github.com/go-swagger/go-swagger/issues/1501" target="_blank">#1501</a>.</p><h3 id="type-string-format-int64-not-respected-in-generator"><a name="type-string-format-int64-not-respected-in-generator" class="plugin-anchor" href="#type-string-format-int64-not-respected-in-generator"><i class="fa fa-link" aria-hidden="true"></i></a>type string, format int64 not respected in generator</h3><p><em>Use-Case</em>:  when generating parameters or models from a swagger file with a definition that specifies type: string and format: int64,
 the <strong>generation fails</strong>.</p><p>Example:</p><pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
    <span class="token property">&quot;consumes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;application/json&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;definitions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Test&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;int64&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;object&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
...</code></pre>
<p><strong>Answer</strong>: that&apos;s an invalid type. The openapi 2.0 spec says the type should be</p><pre class="language-"><code>type: integer
format: int64</code></pre>
<p>Originally from issue <a href="https://github.com/go-swagger/go-swagger/issues/1381" target="_blank">#1381</a>.</p><h3 id="duplicate-operationid-error"><a name="duplicate-operationid-error" class="plugin-anchor" href="#duplicate-operationid-error"><i class="fa fa-link" aria-hidden="true"></i></a>Duplicate operationId error</h3><p><em>Use-Case</em>:  my spec indicates duplicate operationIds but for separate endpoints.
When generating a server and there are multiple endpoints, the <code>operations</code> directory in <code>restapi</code>
contains subdirectories for each of those endpoints.</p><p>Example:</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">paths</span><span class="token punctuation">:</span>
  <span class="token key atrule">&apos;/users/{id}&apos;</span><span class="token punctuation">:</span>
    <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> id
        <span class="token key atrule">in</span><span class="token punctuation">:</span> path
        <span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">type</span><span class="token punctuation">:</span> string
    <span class="token key atrule">get</span><span class="token punctuation">:</span>
      <span class="token key atrule">operationId</span><span class="token punctuation">:</span> getById
      <span class="token key atrule">summary</span><span class="token punctuation">:</span> Get User By ID
      <span class="token key atrule">tags</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> Users
      <span class="token key atrule">responses</span><span class="token punctuation">:</span>
        <span class="token key atrule">&apos;200&apos;</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span>
          <span class="token key atrule">schema</span><span class="token punctuation">:</span>
            <span class="token key atrule">$ref</span><span class="token punctuation">:</span> <span class="token string">&apos;#/definitions/user-output&apos;</span>
  <span class="token key atrule">&apos;/pets/{id}&apos;</span><span class="token punctuation">:</span>
    <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> id
        <span class="token key atrule">in</span><span class="token punctuation">:</span> path
        <span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">type</span><span class="token punctuation">:</span> string
    <span class="token key atrule">get</span><span class="token punctuation">:</span>
      <span class="token key atrule">operationId</span><span class="token punctuation">:</span> getById
      <span class="token key atrule">summary</span><span class="token punctuation">:</span> Get Pet By ID
      <span class="token key atrule">tags</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> Pets
      <span class="token key atrule">responses</span><span class="token punctuation">:</span>
        <span class="token key atrule">&apos;200&apos;</span><span class="token punctuation">:</span>
          <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span>
          <span class="token key atrule">schema</span><span class="token punctuation">:</span>
            <span class="token key atrule">$ref</span><span class="token punctuation">:</span> <span class="token string">&apos;#/definitions/pet-output&apos;</span></code></pre>
<p>I am expecting a generated structure like so:</p><pre class="language-"><code>&#x2514;&#x2500;&#x2500; restapi
    ...
    &#x251C;&#x2500;&#x2500; operations
    &#x2502;   &#x251C;&#x2500;&#x2500; pets
    &#x2502;   &#x2502;   &#x251C;&#x2500;&#x2500; ...
    &#x2502;   &#x251C;&#x2500;&#x2500; users
    &#x2502;   &#x2502;   &#x251C;&#x2500;&#x2500; ...
    &#x2502;   &#x2514;&#x2500;&#x2500; ...</code></pre>
<p>However, instead of generating the server I get this error: <code>&quot;getById&quot; is defined 2 times</code></p><p>Is it possible to bypass this validation error IF the operation ids will go into separate directories?</p><p><strong>Answer:</strong> operationId is always globally unique per swagger 2.0 specification. The id MUST be unique among all operations described in the API.</p><p><a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#operationObject" target="_blank">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#operationObject</a></p><blockquote><p>Unique string used to identify the operation. The id MUST be unique among all operations described in the API.
Tools and libraries MAY use the operationId to uniquely identify an operation,
therefore, it is recommended to follow common programming naming conventions.</p></blockquote><p>Originally from issue <a href="https://github.com/go-swagger/go-swagger/issues/1143" target="_blank">#1143</a>.</p><hr><p>Back to <a href="./#all-contributed-questions">all contributions</a></p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="faq_documenting.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Documenting your API">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Swagger specification","level":"1.9.8","depth":2,"previous":{"title":"Documenting your API","level":"1.9.7","depth":2,"path":"faq/faq_documenting.md","ref":"faq/faq_documenting.md","articles":[]},"dir":"ltr"},"config":{"plugins":["forkmegithub","prism","-highlight","anchors","livereload"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"livereload":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"forkmegithub":{"color":"green","url":"https://github.com/go-swagger/go-swagger"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"faq/faq_swagger.md","mtime":"2019-12-11T17:17:52.676Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2021-01-19T04:09:47.021Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-forkmegithub/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

